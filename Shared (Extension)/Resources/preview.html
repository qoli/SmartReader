<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <script src="Readability.js"></script>


    <link rel="stylesheet" type="text/css" href="readability.css" />
</head>
<link rel="stylesheet" type="text/css" href="preview-index.css" />

<body>
    <div id="ReadabilityBar">
        <div id="viewBar">
            <a href="javascript:void(0)" id="ReadabilityButton">
                <svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M0 6.66667C0 2.98477 2.98477 0 6.66667 0H11.1111C14.793 0 17.7778 2.98477 17.7778 6.66667V11.1111C17.7778 14.793 14.793 17.7778 11.1111 17.7778H1.66667C0.746192 17.7778 0 17.0316 0 16.1111V6.66667Z"
                        fill="#FFD86D" />
                    <circle cx="8.88888" cy="7.22225" r="2.77778" stroke="black" stroke-width="1.11111" />
                    <circle cx="16.6666" cy="7.22225" r="2.77778" stroke="black" stroke-width="1.11111" />
                    <path d="M9.44446 6.94458V8.05569" stroke="black" stroke-width="1.11111" stroke-linecap="round" />
                    <path d="M13.4722 6.66675H12.2222" stroke="black" stroke-width="1.11111" stroke-linecap="round" />
                    <path d="M16.1111 6.94458V8.05569" stroke="black" stroke-width="1.11111" stroke-linecap="round" />
                    <path d="M10.5555 12.959V12.959C12.1488 13.2533 13.7949 12.9934 15.22 12.2224V12.2224"
                        stroke="black" stroke-width="1.11111" stroke-linecap="round" />
                </svg>

            </a>
        </div>
    </div>
    <!-- ReadabilityBar / End  -->



    <div id="ReadabilityBoxFrame">
        <div class="readabilityBlurBox"></div>

        <div id="ReadabilityBox" class="ReadabilityFont" style="display: flex">
            <div id="ReadabilityKeyboard" class="ReadabilityStyle morePadding">

                <div class="readabilityInput fixMorePadding">
                    <textarea id="ReadabilityTextarea" placeholder="Reply(Enter for Send)" rows="1" cols="1"
                        class="readabilityInsideStyle"></textarea>
                    <div id="ReadabilityClose" class="readabilityInsideStyle">
                        <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 4L4 12" stroke="#3D3D3D" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" style="--noir-inline-color: #959eae" data-noir-inline-color="">
                            </path>
                            <path d="M4 4L12 12" stroke="#3D3D3D" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round" style="--noir-inline-color: #959eae" data-noir-inline-color="">
                            </path>
                        </svg>
                    </div>

                    <div id="ReadabilitySend" class="readabilityInsideStyle" style="display: none">
                        <svg width="16" height="16" fill="none" stroke="currentColor" stroke-linecap="round"
                            stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24"
                            xmlns="http://www.w3.org/2000/svg">
                            <path d="M10 14 21 3"></path>
                            <path d="m21 3-6.5 18a.55.55 0 0 1-1 0L10 14l-7-3.5a.55.55 0 0 1 0-1L21 3Z"></path>
                        </svg>
                    </div>
                </div>
            </div>
            <!-- ReadabilityKeyboard / End  -->

            <div id="ReadabilityMessageGroup">
                <div id="ReadabilityUserinfo" class="ReadabilityStyle morePadding">
                    <div class="safariExtensionUserInfo">
                        <p class="safariExtensionTitle" id="ReadabilityTitle">Title</p>
                        <p class="safariExtensionHost readabilityTips" id="ReadabilityHost">
                            www
                        </p>
                    </div>
                </div>
                <!-- ReadabilityUserinfo / End  -->

                <div id="ReadabilityFrame" class="ReadabilityStyle morePadding">
                    <div id="ReadabilityLoading">
                        <img src="${lottieURL}" height="48" width="48" alt="loading" />
                        <span>Eison · 愛省流君</span>
                    </div>
                    <div id="response" class="typing"></div>
                    <div id="receiptTitle"></div>
                    <div id="receipt"></div>
                </div>

                <div id="ReplyMessage1111" class="ReadabilityStyle morePadding readabilityReply readabilityUserReply">
                    什麼是input 呢？
                </div>

                <div id="ReplyMessage1111" class="ReadabilityStyle morePadding readabilityReply">
                    什麼是input 呢？``input`input``input` 是`input` 是一`input`
                    是一種`input` 是一種事件`input` 是一種事件，`input`
                    是一種事件，當`input` 是一種事件，當 `&lt;`input` 是一種事件，當
                    `&lt;input`input` 是一種事件，當 `&lt;input&gt;``input`
                    是一種事件，當 `&lt;input&gt;`、`input` 是一種事件，當
                    `&lt;input&gt;`、``input` 是一種事件，當
                    `&lt;input&gt;`、`&lt;`input` 是一種事件，當
                    `&lt;input&gt;`、`&lt;textarea`input` 是一種事件，當
                    `&lt;input&gt;`、`&lt;textarea&gt;``input` 是一種事件，當
                    `&lt;input&gt;`、`&lt;textarea&gt;` 或`input` 是一種事件，當
                    `&lt;input&gt;`、`&lt;textarea&gt;` 或者
                </div>
            </div>
            <!-- ReadabilityMessageGroup / End  -->

            <div id="ReadabilityAnchor"></div>
        </div>

        <!-- ReadabilityBox / End  -->
    </div>

    <script>
        function hideView() {
            document.querySelector("#ReadabilityBox").style.display = "none";
            document.querySelector("#ReadabilityBar").style.display = "block";
        }

        function viewable() {
            document.querySelector("#ReadabilityBox").style.display = "block";
            document.querySelector("#ReadabilityBar").style.display = "none";
        }

        function sendReply() {
            let textValue = textArea.value;
            insertMessage(textValue);
        }

        document
            .querySelector("#ReadabilityClose")
            .addEventListener("click", hideView);

        document
            .querySelector("#ReadabilityButton")
            .addEventListener("click", viewable);

        document
            .querySelector("#ReadabilitySend")
            .addEventListener("click", sendReply);

        function showClose() {
            document.querySelector("#ReadabilityClose").style.display = "block";
            document.querySelector("#ReadabilitySend").style.display = "none";
        }

        function hideClose() {
            document.querySelector("#ReadabilityClose").style.display = "none";
            document.querySelector("#ReadabilitySend").style.display = "block";
        }

        function insertMessage(message) {
            var parentDiv = document.getElementById("ReadabilityMessageGroup");

            // 创建新的 div 元素
            var newDiv = document.createElement("div");
            var timestamp = Date.now(); // 获取当前时间戳
            newDiv.id = "ReplyMessage" + timestamp;
            newDiv.className = "ReadabilityStyle morePadding readabilityReply";
            newDiv.innerText = message;

            // 将新的 div 插入到 #ReadabilityMessageGroup 的末尾
            parentDiv.appendChild(newDiv);

            document.getElementById("ReadabilityTextarea").value = "";
        }

        const textArea = document.getElementById("ReadabilityTextarea");
        textArea.addEventListener("input", () => {
            let ln = textArea.value.length;
            if (ln != 0) {
                hideClose();
            } else {
                showClose();
            }
        });
    </script>
</body>

</html>